<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pylbo.automation.runner &mdash; Pylbo stable documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="pylbo.utilities" href="../../utilities/index.html" />
    <link rel="prev" title="pylbo.automation.generator" href="../generator/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> Pylbo
          </a>
              <div class="version">
                1.1.3 - stable
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Package structure:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../api/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.api</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../defaults/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.defaults</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../generator/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.generator</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.runner</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../utilities/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.utilities</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../visualisation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.visualisation</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../_version/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo._version</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../data_containers/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.data_containers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../exceptions/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.exceptions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../file_handler/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.file_handler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../testing/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.testing</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Pylbo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../index.html">API Reference</a> &raquo;</li>
          <li><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo</span></code></a> &raquo;</li>
          <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation</span></code></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.runner</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/pylbo/automation/runner/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-pylbo.automation.runner">
<span id="pylbo-automation-runner"></span><h1><a class="reference internal" href="#module-pylbo.automation.runner" title="pylbo.automation.runner"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pylbo.automation.runner</span></code></a><a class="headerlink" href="#module-pylbo.automation.runner" title="Permalink to this headline"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylbo.automation.runner.LegolasRunner" title="pylbo.automation.runner.LegolasRunner"><code class="xref py py-obj docutils literal notranslate"><span class="pre">LegolasRunner</span></code></a></p></td>
<td><p>Handles running legolas.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylbo.automation.runner._validate_executable" title="pylbo.automation.runner._validate_executable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_validate_executable</span></code></a>(executable)</p></td>
<td><p>Validates the given executable, then returns it. If the argument passed is</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pylbo.automation.runner._validate_nb_cpus" title="pylbo.automation.runner._validate_nb_cpus"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_validate_nb_cpus</span></code></a>(cpus)</p></td>
<td><p>Validates the number of cpus passed to the multiprocessing pool.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pylbo.automation.runner._validate_parfiles" title="pylbo.automation.runner._validate_parfiles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">_validate_parfiles</span></code></a>(files)</p></td>
<td><p>Validates a list of parfiles.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="pylbo.automation.runner._validate_executable">
<span class="sig-prename descclassname"><span class="pre">pylbo.automation.runner.</span></span><span class="sig-name descname"><span class="pre">_validate_executable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">executable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#_validate_executable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner._validate_executable" title="Permalink to this definition"></a></dt>
<dd><p>Validates the given executable, then returns it. If the argument passed is
None, defaults to the executable in the legolas home directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>executable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>PathLike</em></a>) – The path to the legolas executable to use.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.10)"><strong>FileNotFoundError</strong></a> – If the executable was not found.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>executable</strong> – The (resolved) path to the executable to use.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)">PathLike</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pylbo.automation.runner._validate_nb_cpus">
<span class="sig-prename descclassname"><span class="pre">pylbo.automation.runner.</span></span><span class="sig-name descname"><span class="pre">_validate_nb_cpus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cpus</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#_validate_nb_cpus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner._validate_nb_cpus" title="Permalink to this definition"></a></dt>
<dd><p>Validates the number of cpus passed to the multiprocessing pool.
Defaults to the maximum available number if exceeded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cpus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The number of cpus to use.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cpus</strong> – The number of cpus to use, limited to the maximum number available.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pylbo.automation.runner._validate_parfiles">
<span class="sig-prename descclassname"><span class="pre">pylbo.automation.runner.</span></span><span class="sig-name descname"><span class="pre">_validate_parfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#_validate_parfiles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner._validate_parfiles" title="Permalink to this definition"></a></dt>
<dd><p>Validates a list of parfiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>files</strong> (<em>(</em><em>list of</em><em>) </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><em>(</em><em>list of</em><em>) </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>PathLike</em></a>) – Paths to the parfiles.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#FileNotFoundError" title="(in Python v3.10)"><strong>FileNotFoundError</strong></a> – If one of the parfiles is not found.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>files_list</strong> – A list of resolved filepaths for the parfiles.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pylbo.automation.runner.LegolasRunner">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pylbo.automation.runner.</span></span><span class="sig-name descname"><span class="pre">LegolasRunner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parfiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_parfiles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_cpus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">executable</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#LegolasRunner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner.LegolasRunner" title="Permalink to this definition"></a></dt>
<dd><p>Handles running legolas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parfiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)"><em>list</em></a><em>, </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.21)"><em>numpy.ndarray</em></a>) – A list or array containing the names or paths to the parfiles.</p></li>
<li><p><strong>remove_parfiles</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)"><em>bool</em></a>) – If <cite>True</cite>, removes the parfiles after running Legolas. This will also remove
the containing folder if it turns out to be empty after the parfiles are
removed. If there are other files still in the folder it remains untouched.</p></li>
<li><p><strong>nb_cpus</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.10)"><em>int</em></a>) – The number of CPUs to use when running Legolas. If equal to 1 then
parallelisation is disabled. Defaults to the maximum number of CPUs available
if a number larger than the available number is specified.</p></li>
<li><p><strong>executable</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>PathLike</em></a>) – The path to the legolas executable. If not specified, defaults to the
standard one in the legolas home directory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pylbo.automation.runner.LegolasRunner._init_worker">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">_init_worker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#LegolasRunner._init_worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner.LegolasRunner._init_worker" title="Permalink to this definition"></a></dt>
<dd><p>Worker initialisation for the multiprocessing module.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylbo.automation.runner.LegolasRunner._activate_worker">
<span class="sig-name descname"><span class="pre">_activate_worker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#LegolasRunner._activate_worker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner.LegolasRunner._activate_worker" title="Permalink to this definition"></a></dt>
<dd><p>Worker activation for the multiprocessing module.
Calls the legolas executable as a subprocess with the parfile as argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parfile</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.10)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.10)"><em>PathLike</em></a>) – The path to the parfile</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>call</strong> – A call to a subprocess to run legolas.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/subprocess.html#subprocess.call" title="(in Python v3.10)"><code class="xref py py-func docutils literal notranslate"><span class="pre">subprocess.call()</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylbo.automation.runner.LegolasRunner._terminate_workers">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">_terminate_workers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#LegolasRunner._terminate_workers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner.LegolasRunner._terminate_workers" title="Permalink to this definition"></a></dt>
<dd><p>Terminates the multiprocessing workers after a forced interruption.
Simply giving an interrupt terminates only the Python processes, but still
keeps the Legolas calls running since those are subprocesses. This method first
terminates all child processes (legolas), then the parents (workers).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pylbo.automation.runner.LegolasRunner.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/pylbo/automation/runner.html#LegolasRunner.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pylbo.automation.runner.LegolasRunner.execute" title="Permalink to this definition"></a></dt>
<dd><p>Executes the legolas executables and initialises the multiprocessing
pool if requested.</p>
</dd></dl>

</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../generator/index.html" class="btn btn-neutral float-left" title="pylbo.automation.generator" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../utilities/index.html" class="btn btn-neutral float-right" title="pylbo.utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Niels Claes, Jordi De Jonghe and Rony Keppens (2020).</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>