<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="Legolas is a novel finite-element based code that allows for realistic MHD spectroscopy of one-dimensional plasmas.">
    
    <meta name="author" content="" >
    <link rel="icon" href="../favicon.png">

    <title>mod_grid &ndash; Legolas v. 1.2.0 - stable</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">Legolas v. 1.2.0 - stable </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../lists/procedures.html">Procedures</a></li>
        
        
            <li><a href="../lists/absint.html">Abstract Interfaces</a></li>
               
            <li><a href="../lists/types.html">Derived Types</a></li>
        
        
            <li><a href="../program/legolas.html">Program</a></li>
               
        
        
            </ul>
        
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/absint.html">Abstract Interfaces</a></li>
                             
<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../program/legolas.html">Program</a></li>



          </ul>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  
  <div class="row">
    <h1>mod_grid 
    <small>Module</small>
    
    </h1>
    
<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">
     
     
     
     
     
    
    
     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
    data-placement="bottom" data-html="true"
    title=" 1.2% of total for modules and submodules.">96 statements</a>
     </li> 
     
     
     
    <li><i class="fa fa-code"></i><a href="../src/mod_grid.f08"> Source File</a></li>
     
     
  </ul>
  <ol class="breadcrumb in-well text-right">
  
    
     <li><a href='../sourcefile/mod_grid.f08.html'>mod_grid.f08</a></li>
    
  
     <li class="active">mod_grid</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    
<div id="sidebar">
  
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-0">Variables</a></h3></div>
  <div id="vars-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-grid">grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-grid_gauss">grid_gauss</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-eps_grid">eps_grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-d_eps_grid_dr">d_eps_grid_dr</a>
      
    </div>
  </div>
</div>













<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#subs-0">Subroutines</a></h3></div>
  <div class="list-group">
    <div id="subs-0" class="panel-collapse collapse">
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-initialise_grid">initialise_grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-set_grid_gauss">set_grid_gauss</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-set_scale_factor">set_scale_factor</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-grid_clean">grid_clean</a>
      
    </div>
  </div>
</div>










</div>

    </div>
    
    <div class="col-md-9" id='text'>
    <p>Module containing all grid-related things.
Contains subroutines to create the base grid, Gaussian grid and
scale factors. Also handles mesh accumulation.
An integral of <script type="math/tex">f(x)</script> in <script type="math/tex">[a, b]</script> can be approximated with
<script type="math/tex; mode=display"> f(x) \approx 0.5(b-a)\sum_{i=1}^n\bigl[w_i f\bigl(0.5(b-a)x_i + 0.5(a+b)\bigr)\bigr] </script>
where <script type="math/tex">w_i</script> and <script type="math/tex">x_i</script> are the weights and nodes of the Gaussian quadrature.
The Gaussian grid is hence set up in every interval <script type="math/tex">[a, b]</script> across the
four nodes <script type="math/tex">j</script> as
<script type="math/tex; mode=display"> x_i(j) = 0.5 * dx * w_i(j) + 0.5(a + b) </script>
</p>
      <br>
    
  
    <div class="panel panel-default">
      <div class="panel-heading">
  <h3 class="panel-title">Uses</h3>
      </div>
      <ul class="list-group">
      
      <li class="list-group-item">
  <ul class="list-inline">
    
    <li><a href='../module/mod_logging.html'>mod_logging</a></li>
    
    <li><a href='../module/mod_global_variables.html'>mod_global_variables</a></li>
    
  </ul>
      </li>
      
      
      
      </ul>
    </div>
    

    
    

    <br>

    <section class="visible-xs visible-sm hidden-md">
      
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-1">Variables</a></h3></div>
  <div id="vars-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-grid">grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-grid_gauss">grid_gauss</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-eps_grid">eps_grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#variable-d_eps_grid_dr">d_eps_grid_dr</a>
      
    </div>
  </div>
</div>













<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#subs-1">Subroutines</a></h3></div>
  <div class="list-group">
    <div id="subs-1" class="panel-collapse collapse">
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-initialise_grid">initialise_grid</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-set_grid_gauss">set_grid_gauss</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-set_scale_factor">set_scale_factor</a>
      
      <a class="list-group-item" href="../module/mod_grid.html#proc-grid_clean">grid_clean</a>
      
    </div>
  </div>
</div>










    </section>
    <br class="visible-xs visible-sm hidden-md">

    

    
    <section>
    <h2>Variables</h2>
    
<table class="table table-striped varlist">
<thead><tr><th>Type</th><th>Visibility</th>

<th>Attributes</th><th></th><th>Name</th><th></th><th>Initial</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-grid"></span>real(kind=dp),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>grid</strong>(:)</td><td></td><td></td><td><p>array containing the base grid</p></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-grid_gauss"></span>real(kind=dp),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>grid_gauss</strong>(:)</td><td></td><td></td><td><p>array containing the Gaussian grid</p></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-eps_grid"></span>real(kind=dp),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>eps_grid</strong>(:)</td><td></td><td></td><td><p>array containing the scale factor epsilon</p></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-d_eps_grid_dr"></span>real(kind=dp),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>d_eps_grid_dr</strong>(:)</td><td></td><td></td><td><p>array containing the derivative of the scale factor epsilon</p></td>
  
</tr>

</tbody>
</table>

    </section>
    <br>
    
    
    
    
    

    
    
    
    
    

    
    <section>
    <h2>Subroutines</h2>
    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-initialise_grid"></span><h3>
public subroutine <a href='../proc/initialise_grid.html'>initialise_grid</a>(custom_grid)
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>General grid initialisations.
Initialises both the regular grid and the Gaussian grid.
Does calls to the mesh accumulation routines if needed,
and sets the scale factor and its derivative.
</p><a href="../proc/initialise_grid.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" ></span>real(kind=dp),</td>
  <td>intent(in),</td>
  <td>optional</td>
  
  <td></td><td>::</td>
  <td><strong>custom_grid</strong>(:)</td><td><p>custom grid to use instead of the default one, optional</p></td>
  
</tr>

</tbody>
</table>

      
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-set_grid_gauss"></span><h3>
public subroutine <a href='../proc/set_grid_gauss.html'>set_grid_gauss</a>()
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>Sets up grid_gauss, that is, the grid evaluated in the four
Gaussian points. This is done by evaluating the weights
at the four Gaussian nodes.</p>
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-set_scale_factor"></span><h3>
private subroutine <a href='../proc/set_scale_factor.html'>set_scale_factor</a>()
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>The scale factor to switch between Cartesian and cylindrical geometries
is set here, along with its derivative. For cylindrical the scale factor
is simply equal to the Gaussian grid, and its derivative is unity.
For Cartesian the scale factor is unity and its derivative is zero.
</p><a href="../proc/set_scale_factor.html" class="pull-right"><emph>Read more&hellip;</emph></a>
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  </div>
  </div>

    
    
  <div class="panel panel-default">
  <div class="panel-heading codesum"><span class="anchor" id="proc-grid_clean"></span><h3>
public subroutine <a href='../proc/grid_clean.html'>grid_clean</a>()
    
    
   
</h3></div>
  <div class="panel-body">
       
    







<p>Cleanup routine, deallocates the arrays at module scope.</p>
    
    <h4>Arguments</h4>
    
      <em>None</em>
    
    

  </div>
  </div>

    
    </section>    
    <br>
    
    
    
    </div>
  </div>

  
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p>Legolas v. 1.2.0 - stable was developed by <br>&copy; 2021 
                                          </p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            
            
          </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    
  </body>
</html>